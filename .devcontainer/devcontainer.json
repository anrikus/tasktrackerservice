{
	"build": {
		"context": ".",
		"dockerfile": "./Dockerfile"
	},
	// Configure tool-specific properties.
	"customizations": {
		// Configure properties specific to VS Code.
		"vscode": {
			"extensions": [
				"ms-python.python",
				"ms-azuretools.vscode-docker",
				"ms-python.vscode-pylance",
				"ms-python.debugpy",
				"ms-python.pylint",
				"ms-python.isort",
				"ms-python.mypy-type-checker",
				"ms-toolsai.jupyter",
				"bierner.markdown-mermaid",
				"ms-azuretools.vscode-azurefunctions",
				"Azurite.azurite"
			],
			// Set *default* container specific settings.json values on container create.
			"settings": {
				"editor.codeActionsOnSave": {
					"source.fixAll": true,
					"source.organizeImports": true,
					"source.sort.json": true,
					"source.unusedImports": true
				},
				"editor.formatOnSave": true,
				"python.defaultInterpreterPath": "${containerWorkspaceFolder}/.venv/bin/python",
				"python.formatting.provider": "black",
				"python.linting.enabled": true,
				"python.linting.pylintArgs": [
					"--disable=C0111"
				],
				"python.terminal.activateEnvInCurrentTerminal": true,
				"python.terminal.activateEnvironment": true,
				"python.typeChecking": "basic"
			}
		}
	},
	"features": {
		"ghcr.io/devcontainers-extra/features/black:2": {},
		"ghcr.io/devcontainers-extra/features/isort:2": {},
		"ghcr.io/devcontainers-extra/features/mypy:2": {},
		"ghcr.io/devcontainers-extra/features/pylint:2": {},
		"ghcr.io/devcontainers/features/azure-cli:1": {},
		"ghcr.io/devcontainers/features/common-utils:2": {
			"upgradePackages": "true",
			"userGid": "1000",
			"username": "vscode",
			"userUid": "1000"
		},
		"ghcr.io/devcontainers/features/git:1": {},
		"ghcr.io/devcontainers/features/github-cli:1": {},
		"ghcr.io/devcontainers/features/node:1": {}
	},
	// Download and install 
	// azure-functions-core-tools, azure artifacts credential provider 
	// Set up Python virtual environment
	"postCreateCommand": "npm install -g npm@latest && npm i -g azure-functions-core-tools@4 && wget -qO- https://aka.ms/install-artifacts-credprovider.sh | bash && python -m venv ${containerWorkspaceFolder}/.venv && ${containerWorkspaceFolder}/.venv/bin/python -m pip install --upgrade pip && ${containerWorkspaceFolder}/.venv/bin/python -m pip install -r ${containerWorkspaceFolder}/requirements.txt",
	// Set `remoteUser` to `root` to connect as root instead. More info: https://aka.ms/vscode-remote/containers/non-root.
	"remoteUser": "vscode"
}